<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%=title%>
    </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
        integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/style.css" type="text/css">
</head>

<body>
    <div id="app-container" class="vertical">
        <div id="header-div">
            <h1>TO DO APP</h1>
        </div>
        <form action="/create-task" , method="post">
            <div id="task-details-div" class="vertical">
                <div id="description-div" class="vertical">
                    <p id="description">DESCRIPTION</p>
                    <input id="desc-input" placeholder="What do you need to do ?" type="text" name="Description"
                        required>
                </div>

                <div id="Category-Date-div" class="horizontal">
                    <div id="category-div" class="vertical">
                        <p id="category">CATEGORY</p>
                        <select id="category-drop-down" name="category" required placeholder="Choose a category">
                            <option value="" disabled selected hidden>Choose a category</option>
                            <option value="Personal"> Personal </option>
                            <option value="Work"> Work </option>
                            <option valye="School"> School </option>
                            <option value="Office"> Office</option>
                            <option value="Other"> Other </option>
                        </select>
                    </div>

                    <div id="date-div" class="vertical">
                        <p id="due-date">DUE Date</p>
                        <input type="date" id="date" name="Date" style="width: auto;" required>
                    </div>
                </div>
            </div>

            <div id="add-delete-button-div" class="horizontal">
                <button id="add-task-button" class="horizontal operation" type="submit">
                    <i class="fa fa-plus"></i>
                    ADD TASK
                </button>
                <a id="delete-task-button" class="horizontal operation" href="/delete-task/">
                    <i class="fa fa-trash"></i>
                    DELETE TASK
                </a>
            </div>
        </form>
        <div id="task-container" class="vertical">
            <% if (taskList.length==0){ %>
                <h2>Add your tasks here ...</h2>
                <% } %>

                    <% for(let i=0; i < taskList.length ; i++){ %>
                        <div class="horizontal task-division">
                            <div class="check-boxes">
                                <% if(taskList[i].isDone==true){ %>
                                    <i class="fa fa-check"
                                        style="color : green; font-weight: 800; font-size:25px !important ;"
                                        onclick="window.location.href='/check-task/?id=<%= taskList[i]._id %>';"></i>
                                    <% }else {%>
                                        <i class="fa fa-check"
                                            style="color : red; font-weight: 800; font-size:25px !important ;"
                                            onclick="window.location.href='/check-task/?id=<%= taskList[i]._id %>';"></i>
                                        <% } %>
                                            <!-- <input type="checkbox" class="check-boxes" id="<%= taskList[i]._id %>" onclick="window.location.href='/check-task/?id=<%= taskList[i]._id %>';"> -->
                            </div>
                            <div class="vertical task-information">
                                <% if (taskList[i].isDone) { %>
                                    <p class="task-text" style="text-decoration: line-through;">
                                        <%= taskList[i].Description %>
                                    </p>
                                    <% } else { %>
                                        <p class="task-text">
                                            <%= taskList[i].Description %>
                                        </p>
                                        <% } %>
                                            <p class="date"><i class="fa fa-calendar"></i>&nbsp;&nbsp;<%=
                                                    taskList[i].date %>
                                            </p>
                            </div>
                            <div class="task-type">
                                <% if(taskList[i].Category=="Personal" ) { %>
                                    <div style="background-color: rgb(135, 243, 243);">
                                        <%= taskList[i].Category %>
                                    </div>
                                    <% } else if(taskList[i].Category=="School" ) {%>
                                        <div style="background-color: rgb(243, 141, 229);">
                                            <%= taskList[i].Category %>
                                        </div>
                                        <% } else if(taskList[i].Category=="Work" ) {%>
                                            <div style="background-color: #757dec;">
                                                <%= taskList[i].Category %>
                                            </div>
                                            <% } else if(taskList[i].Category=="Office" ) {%>
                                                <div style="background-color: rgb(169, 64, 218);">
                                                    <%= taskList[i].Category %>
                                                </div>
                                                <% } else if(taskList[i].Category=="Other" ) {%>
                                                    <div style="background-color: rgb(250, 169, 48);">
                                                        <%= taskList[i].Category %>
                                                    </div>
                                                    <% } %>

                            </div>
                        </div>
                        <% } %>
        </div>
    </div>
    <script type="text/javascript" src="./js/index.js"></script>
</body>

</html>